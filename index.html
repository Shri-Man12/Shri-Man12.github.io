<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manas | Profile</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Stint+Ultra+Condensed&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Crimson+Text&family=MedievalSharp&display=swap" rel="stylesheet">

</head>
<body>

<div class="containers">

  
  <div class="panel left-panel"></div>
  
  <div class="left-menu">
    <div class="projects-group">
     <button class="menu-btn" id="projects-btn">Projects</button>
      <ul class="project-list">
        <li><a href=" https://chatgpt.com/">Void Engine Simulation</a></li>
        <li><a href=" https://chatgpt.com/">Arcane Web Compiler   </a> </li>
        <li><a href=" https://chatgpt.com/">Rune-based Shader Toy </a>  </li>
        <li><a href=" https://chatgpt.com/">Dishonored Lore Blog  </a> </li>
        <li><a href=" https://chatgpt.com/">Experimental UI Design</a> </li>
      </ul>
    </div>
    <button class="menu-btn">CV</button>
    <button class="menu-btn">Contact Me</button>

    
  </div>
  
  <!-- <img src="profile.jpg" alt="Profile Picture" class="profile-pic" /> -->

  <div class="panel right-panel">
    <div class="big-hi">   Hi, </div> <div class="intro-text">I am Manas Shrivastava.</div>
  </div>

  
   <div class="a-box enter-btn">
    <img src="rune-dark.png" alt="Enter Rune" />
  </div>

  
  <div class="content-reveal">
    <div class="a-box return-btn">
      <img src="rune-dark.png" alt="Return Rune" />
    </div>
    <div class="full-message">Welcome to the world. </div>
  </div>



  </div>


</div>
<script>
const enterBtn = document.querySelector('.enter-btn');
const returnBtn = document.querySelector('.return-btn');
const left = document.querySelector('.left-panel');
const right = document.querySelector('.right-panel');
const content = document.querySelector('.content-reveal');
const projectsBtn = document.getElementById('projects-btn');
const projectList = document.querySelector('.project-list');
let projectsVisible = false;

//  Define close function
function closePanels() {
  left.style.transform = 'translate(0, 0)';
  right.style.transform = 'translate(0, 0)';
  content.style.opacity = 0;

  // Hide project list if open
  projectList.classList.remove('active');
  projectsVisible = false;

  // Show enter button after animation ends
  setTimeout(() => {
    enterBtn.style.display = 'flex';
  }, 1000);
}

// Define open function
function openPanels() {
  left.style.transform = 'translate(-100%, -100%)';
  right.style.transform = 'translate(100%, 100%)';
  content.style.opacity = 1;
  enterBtn.style.display = 'none';

  // Hide project list if open
  projectList.classList.remove('active');
  projectsVisible = false;
}

//  On enter (rune click)
enterBtn.addEventListener('click', () => {
  openPanels();
  history.pushState({ opened: true }, '', '#open');
});

// On return (white rune click)
returnBtn.addEventListener('click', () => {
  history.back(); // Triggers popstate event
});

//  Back button handling
window.addEventListener('popstate', (event) => {
  if (!event.state || !event.state.opened) {
    closePanels();
  }
});

//  Projects button toggle
projectsBtn.addEventListener('click', () => {
  projectsVisible = !projectsVisible;
  projectList.classList.toggle('active', projectsVisible);


const leftMenu = document.querySelector('.left-menu');

enterBtn.addEventListener('click', () => {
  openPanels();
  history.pushState({ opened: true }, '', '#open');

  // instantly hide the left menu
  leftMenu.style.display = 'none';


});

returnBtn.addEventListener('click', () => {
  history.back(); // triggers popstate
});

window.addEventListener('popstate', (event) => {
  if (!event.state || !event.state.opened) {
    closePanels();

    // bring back the left menu
    setTimeout(() => {
      leftMenu.style.display = 'flex';
    }, 1000); // matches panel transition
  }
});

document.addEventListener('click', (event) => {
  const isList = projectList.contains(event.target);
  const isButton = projectsBtn.contains(event.target);

  if (!isList && !isButton) {
    projectList.classList.remove('active');
    projectsVisible = false;
  }
});







});





</script>





</body>
</html>
